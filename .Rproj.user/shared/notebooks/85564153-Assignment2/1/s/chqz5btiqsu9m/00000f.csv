"0","new_movie <- tibble("
"0","  log_budget = log(4e7),"
"0","  english = 1,"
"0","  release_month = 1:12"
"0",")"
"0",""
"0","# Use flexible model to get profit prediction for each month"
"0","pred <- predict(model2, newdata = new_movie, interval = ""prediction"", level = 0.99)"
"0","pred_df <- cbind(new_movie, as.data.frame(pred))"
"0","pred_df$pred_profit <- exp(pred_df$fit)"
"0","pred_df$pred_lwr <- exp(pred_df$lwr)"
"0","pred_df$pred_upr <- exp(pred_df$upr)"
"0",""
"0","# Add budget back to get revenue prediction"
"0","pred_df <- pred_df %>%"
"0","  mutate("
"0","    predicted_revenue = pred_profit + 4e7,"
"0","    lower_99 = pred_lwr + 4e7,"
"0","    upper_99 = pred_upr + 4e7"
"0","  )"
"0",""
"0","# Plot predicted revenue with 99% prediction interval for each month"
"0","ggplot(pred_df, aes(x = factor(release_month), y = predicted_revenue)) +"
"0","  geom_col(fill = ""dodgerblue"", alpha = 0.7) +"
"0","  geom_errorbar(aes(ymin = lower_99, ymax = upper_99), width = 0.3, color = ""black"") +"
"0","  labs("
"0","    x = ""Release Month"","
"0","    y = ""Predicted Revenue"","
"0","    title = ""Predicted Revenue and 99% Prediction Interval by Release Month"""
"0","  ) +"
"0","  theme_minimal()"
